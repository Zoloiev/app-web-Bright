import { Menu, Transition } from '@headlessui/react'
import { Fragment } from 'react'

interface WatchItemProps {
  imgUrl: string,
  title: string,
  username: string,
  views: string,
  lastViewed: string,
  avatarUrl: string,
  hasLeftIcon: boolean
}

const WatchLaterContent: React.FC<WatchItemProps> = ({ imgUrl, title, username, views, lastViewed, avatarUrl, hasLeftIcon }) => {
  return (
    <div className='my-1 px-2 py-4 flex items-center hover:bg-[#F5F5F5] rounded-2xl'>
      {
        hasLeftIcon &&
        <svg width="31" height="25" viewBox="0 0 31 25" fill="none" xmlns="http://www.w3.org/2000/svg" className='mr-4'>
          <path d="M12 7.44727C12.3956 7.44727 12.7822 7.32997 13.1111 7.11021C13.44 6.89044 13.6964 6.57809 13.8478 6.21263C13.9991 5.84718 14.0387 5.44505 13.9616 5.05709C13.8844 4.66912 13.6939 4.31276 13.4142 4.03305C13.1345 3.75335 12.7781 3.56287 12.3902 3.4857C12.0022 3.40853 11.6001 3.44813 11.2346 3.59951C10.8692 3.75088 10.5568 4.00723 10.3371 4.33613C10.1173 4.66502 10 5.0517 10 5.44727C10 5.9777 10.2107 6.48641 10.5858 6.86148C10.9609 7.23655 11.4696 7.44727 12 7.44727ZM12 17.4473C11.6044 17.4473 11.2178 17.5646 10.8889 17.7843C10.56 18.0041 10.3036 18.3164 10.1522 18.6819C10.0009 19.0474 9.96126 19.4495 10.0384 19.8374C10.1156 20.2254 10.3061 20.5818 10.5858 20.8615C10.8655 21.1412 11.2219 21.3317 11.6098 21.4088C11.9978 21.486 12.3999 21.4464 12.7654 21.295C13.1308 21.1437 13.4432 20.8873 13.6629 20.5584C13.8827 20.2295 14 19.8428 14 19.4473C14 18.9168 13.7893 18.4081 13.4142 18.0331C13.0391 17.658 12.5304 17.4473 12 17.4473ZM12 10.4473C11.6044 10.4473 11.2178 10.5646 10.8889 10.7843C10.56 11.0041 10.3036 11.3164 10.1522 11.6819C10.0009 12.0474 9.96126 12.4495 10.0384 12.8374C10.1156 13.2254 10.3061 13.5818 10.5858 13.8615C10.8655 14.1412 11.2219 14.3317 11.6098 14.4088C11.9978 14.486 12.3999 14.4464 12.7654 14.295C13.1308 14.1437 13.4432 13.8873 13.6629 13.5584C13.8827 13.2295 14 12.8428 14 12.4473C14 11.9168 13.7893 11.4081 13.4142 11.0331C13.0391 10.658 12.5304 10.4473 12 10.4473Z" fill="#B8B5C6" />
          <path d="M19 7.44727C19.3956 7.44727 19.7822 7.32997 20.1111 7.11021C20.44 6.89044 20.6964 6.57809 20.8478 6.21263C20.9991 5.84718 21.0387 5.44505 20.9616 5.05709C20.8844 4.66912 20.6939 4.31276 20.4142 4.03305C20.1345 3.75335 19.7781 3.56287 19.3902 3.4857C19.0022 3.40853 18.6001 3.44813 18.2346 3.59951C17.8692 3.75088 17.5568 4.00723 17.3371 4.33613C17.1173 4.66502 17 5.0517 17 5.44727C17 5.9777 17.2107 6.48641 17.5858 6.86148C17.9609 7.23655 18.4696 7.44727 19 7.44727ZM19 17.4473C18.6044 17.4473 18.2178 17.5646 17.8889 17.7843C17.56 18.0041 17.3036 18.3164 17.1522 18.6819C17.0009 19.0474 16.9613 19.4495 17.0384 19.8374C17.1156 20.2254 17.3061 20.5818 17.5858 20.8615C17.8655 21.1412 18.2219 21.3317 18.6098 21.4088C18.9978 21.486 19.3999 21.4464 19.7654 21.295C20.1308 21.1437 20.4432 20.8873 20.6629 20.5584C20.8827 20.2295 21 19.8428 21 19.4473C21 18.9168 20.7893 18.4081 20.4142 18.0331C20.0391 17.658 19.5304 17.4473 19 17.4473ZM19 10.4473C18.6044 10.4473 18.2178 10.5646 17.8889 10.7843C17.56 11.0041 17.3036 11.3164 17.1522 11.6819C17.0009 12.0474 16.9613 12.4495 17.0384 12.8374C17.1156 13.2254 17.3061 13.5818 17.5858 13.8615C17.8655 14.1412 18.2219 14.3317 18.6098 14.4088C18.9978 14.486 19.3999 14.4464 19.7654 14.295C20.1308 14.1437 20.4432 13.8873 20.6629 13.5584C20.8827 13.2295 21 12.8428 21 12.4473C21 11.9168 20.7893 11.4081 20.4142 11.0331C20.0391 10.658 19.5304 10.4473 19 10.4473Z" fill="#B8B5C6" />
        </svg>
      }
      <img src={imgUrl} className="w-[176px] h-[114px] rounded-2xl mr-4 hidden sm:block" alt="img" />
      <div className='flex-1 w-0'>
        <div className='font-bold text-[14px]'>
          {title}
        </div>
        <div className='flex items-center my-2'>
          <img src={avatarUrl} className='w-6 h-6 rounded-full mr-1' alt="avatar" />
          <span className='text-[#959595] text-[12px] font-normal'>{username}  |  {views}  |  {lastViewed}</span>
        </div>
      </div>
      <div className='sm:mx-[28px] px-2 mx-[4px]'>
        <Menu as="div" className="relative inline-block text-left">
          <div>
            <Menu.Button className="inline-flex justify-center items-center text-sm hover:bg-opacity-70 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 mx-1" color='#959595'>
              <svg width="5" height="16" viewBox="0 0 5 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle opacity="0.4" cx="2.9917" cy="2" r="2" fill="#959595" />
                <circle opacity="0.4" cx="2.9917" cy="8" r="2" fill="#959595" />
                <circle opacity="0.4" cx="2.9917" cy="14" r="2" fill="#959595" />
              </svg>

            </Menu.Button>
          </div>
          <Transition
            as={Fragment}
            enter="transition ease-out duration-100"
            enterFrom="transform opacity-0 scale-95"
            enterTo="transform opacity-100 scale-100"
            leave="transition ease-in duration-75"
            leaveFrom="transform opacity-100 scale-100"
            leaveTo="transform opacity-0 scale-95"
          >
            <Menu.Items className="z-10 w-max absolute right-0 mt-4 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">
              <div className="px-1 py-1 ">
                <Menu.Item>
                  {({ active }) => (
                    <button
                      className={`${active ? 'bg-bu-purple text-white' : 'text-gray-900'
                        } group flex w-full items-center rounded-md px-2 py-2 text-sm`}
                    >
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.5799 11.9999C15.5799 13.9799 13.9799 15.5799 11.9999 15.5799C10.0199 15.5799 8.41992 13.9799 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C13.9799 8.41992 15.5799 10.0199 15.5799 11.9999Z" stroke="#B8B5C6" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                        <path d="M12.0001 20.2697C15.5301 20.2697 18.8201 18.1897 21.1101 14.5897C22.0101 13.1797 22.0101 10.8097 21.1101 9.39973C18.8201 5.79973 15.5301 3.71973 12.0001 3.71973C8.47009 3.71973 5.18009 5.79973 2.89009 9.39973C1.99009 10.8097 1.99009 13.1797 2.89009 14.5897C5.18009 18.1897 8.47009 20.2697 12.0001 20.2697Z" stroke="#B8B5C6" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                      </svg>
                      <span className="text-[#B8B5C6] px-2">Add to queue</span>
                    </button>
                  )}
                </Menu.Item>
                <Menu.Item>
                  {({ active }) => (
                    <button
                      className={`${active ? 'bg-bu-purple text-white' : 'text-gray-900'
                        } group flex w-full items-center rounded-md px-2 py-2 text-sm`}
                    >
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11 2C9.02219 2 7.08879 2.58649 5.4443 3.6853C3.79981 4.78412 2.51809 6.3459 1.76121 8.17317C1.00433 10.0004 0.806299 12.0111 1.19215 13.9509C1.578 15.8907 2.53041 17.6725 3.92894 19.0711C5.32746 20.4696 7.10929 21.422 9.0491 21.8079C10.9889 22.1937 12.9996 21.9957 14.8268 21.2388C16.6541 20.4819 18.2159 19.2002 19.3147 17.5557C20.4135 15.9112 21 13.9778 21 12C21 10.6868 20.7413 9.38642 20.2388 8.17317C19.7363 6.95991 18.9997 5.85752 18.0711 4.92893C17.1425 4.00035 16.0401 3.26375 14.8268 2.7612C13.6136 2.25866 12.3132 2 11 2ZM11 20C9.41775 20 7.87104 19.5308 6.55544 18.6518C5.23985 17.7727 4.21447 16.5233 3.60897 15.0615C3.00347 13.5997 2.84504 11.9911 3.15372 10.4393C3.4624 8.88743 4.22433 7.46197 5.34315 6.34315C6.46197 5.22433 7.88743 4.4624 9.43928 4.15372C10.9911 3.84504 12.5997 4.00346 14.0615 4.60896C15.5233 5.21447 16.7727 6.23984 17.6518 7.55544C18.5308 8.87103 19 10.4177 19 12C19 14.1217 18.1572 16.1566 16.6569 17.6569C15.1566 19.1571 13.1217 20 11 20ZM14.1 12.63L12 11.42V7C12 6.73478 11.8946 6.48043 11.7071 6.29289C11.5196 6.10536 11.2652 6 11 6C10.7348 6 10.4804 6.10536 10.2929 6.29289C10.1054 6.48043 10 6.73478 10 7V12C10 12 10 12.08 10 12.12C10.0059 12.1889 10.0228 12.2564 10.05 12.32C10.0706 12.3793 10.0974 12.4363 10.13 12.49C10.1574 12.5468 10.1909 12.6005 10.23 12.65L10.39 12.78L10.48 12.87L13.08 14.37C13.2324 14.4564 13.4048 14.5012 13.58 14.5C13.8014 14.5015 14.0171 14.4296 14.1932 14.2953C14.3693 14.1611 14.4959 13.9722 14.5531 13.7583C14.6103 13.5444 14.5948 13.3176 14.5092 13.1134C14.4236 12.9092 14.2726 12.7392 14.08 12.63H14.1Z" fill="#B8B5C6" />
                      </svg>
                      <span className="text-[#B8B5C6] px-2">Save to watch later</span>
                    </button>
                  )}
                </Menu.Item>
                <Menu.Item>
                  {({ active }) => (
                    <button
                      className={`${active ? 'bg-bu-purple text-white' : 'text-gray-900'
                        } group flex w-full items-center rounded-md px-2 py-2 text-sm`}
                    >
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 18H19V17C19 16.7348 18.8946 16.4804 18.7071 16.2929C18.5196 16.1054 18.2652 16 18 16C17.7348 16 17.4804 16.1054 17.2929 16.2929C17.1054 16.4804 17 16.7348 17 17V18H16C15.7348 18 15.4804 18.1054 15.2929 18.2929C15.1054 18.4804 15 18.7348 15 19C15 19.2652 15.1054 19.5196 15.2929 19.7071C15.4804 19.8946 15.7348 20 16 20H17V21C17 21.2652 17.1054 21.5196 17.2929 21.7071C17.4804 21.8946 17.7348 22 18 22C18.2652 22 18.5196 21.8946 18.7071 21.7071C18.8946 21.5196 19 21.2652 19 21V20H20C20.2652 20 20.5196 19.8946 20.7071 19.7071C20.8946 19.5196 21 19.2652 21 19C21 18.7348 20.8946 18.4804 20.7071 18.2929C20.5196 18.1054 20.2652 18 20 18ZM13 20H6C5.73478 20 5.48043 19.8946 5.29289 19.7071C5.10536 19.5196 5 19.2652 5 19V5C5 4.73478 5.10536 4.48043 5.29289 4.29289C5.48043 4.10536 5.73478 4 6 4H11V7C11 7.79565 11.3161 8.55871 11.8787 9.12132C12.4413 9.68393 13.2044 10 14 10H17V13C17 13.2652 17.1054 13.5196 17.2929 13.7071C17.4804 13.8946 17.7348 14 18 14C18.2652 14 18.5196 13.8946 18.7071 13.7071C18.8946 13.5196 19 13.2652 19 13V9C19 9 19 9 19 8.94C18.9896 8.84813 18.9695 8.75763 18.94 8.67V8.58C18.8919 8.47718 18.8278 8.38267 18.75 8.3L12.75 2.3C12.6673 2.22222 12.5728 2.15808 12.47 2.11C12.4369 2.10421 12.4031 2.10421 12.37 2.11C12.2728 2.058 12.1683 2.02092 12.06 2H6C5.20435 2 4.44129 2.31607 3.87868 2.87868C3.31607 3.44129 3 4.20435 3 5V19C3 19.7956 3.31607 20.5587 3.87868 21.1213C4.44129 21.6839 5.20435 22 6 22H13C13.2652 22 13.5196 21.8946 13.7071 21.7071C13.8946 21.5196 14 21.2652 14 21C14 20.7348 13.8946 20.4804 13.7071 20.2929C13.5196 20.1054 13.2652 20 13 20ZM13 5.41L15.59 8H14C13.7348 8 13.4804 7.89464 13.2929 7.70711C13.1054 7.51957 13 7.26522 13 7V5.41ZM8 8C7.73478 8 7.48043 8.10536 7.29289 8.29289C7.10536 8.48043 7 8.73478 7 9C7 9.26522 7.10536 9.51957 7.29289 9.70711C7.48043 9.89464 7.73478 10 8 10H9C9.26522 10 9.51957 9.89464 9.70711 9.70711C9.89464 9.51957 10 9.26522 10 9C10 8.73478 9.89464 8.48043 9.70711 8.29289C9.51957 8.10536 9.26522 8 9 8H8ZM13 16H8C7.73478 16 7.48043 16.1054 7.29289 16.2929C7.10536 16.4804 7 16.7348 7 17C7 17.2652 7.10536 17.5196 7.29289 17.7071C7.48043 17.8946 7.73478 18 8 18H13C13.2652 18 13.5196 17.8946 13.7071 17.7071C13.8946 17.5196 14 17.2652 14 17C14 16.7348 13.8946 16.4804 13.7071 16.2929C13.5196 16.1054 13.2652 16 13 16ZM14 12H8C7.73478 12 7.48043 12.1054 7.29289 12.2929C7.10536 12.4804 7 12.7348 7 13C7 13.2652 7.10536 13.5196 7.29289 13.7071C7.48043 13.8946 7.73478 14 8 14H14C14.2652 14 14.5196 13.8946 14.7071 13.7071C14.8946 13.5196 15 13.2652 15 13C15 12.7348 14.8946 12.4804 14.7071 12.2929C14.5196 12.1054 14.2652 12 14 12Z" fill="#B8B5C6" />
                      </svg>
                      <span className="text-[#B8B5C6] px-2">Save to playlist</span>
                    </button>
                  )}
                </Menu.Item>
                <Menu.Item>
                  {({ active }) => (
                    <button
                      className={`${active ? 'bg-bu-purple text-white' : 'text-gray-900'
                        } group flex w-full items-center rounded-md px-2 py-2 text-sm`}
                    >
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.29 17.2904L13 18.5904V13.0004C13 12.7352 12.8947 12.4808 12.7071 12.2933C12.5196 12.1057 12.2652 12.0004 12 12.0004C11.7348 12.0004 11.4804 12.1057 11.2929 12.2933C11.1054 12.4808 11 12.7352 11 13.0004V18.5904L9.71001 17.2904C9.61677 17.1971 9.50608 17.1232 9.38426 17.0727C9.26244 17.0223 9.13187 16.9963 9.00001 16.9963C8.86815 16.9963 8.73758 17.0223 8.61576 17.0727C8.49394 17.1232 8.38325 17.1971 8.29001 17.2904C8.19677 17.3836 8.12281 17.4943 8.07235 17.6161C8.02189 17.738 7.99592 17.8685 7.99592 18.0004C7.99592 18.1322 8.02189 18.2628 8.07235 18.3846C8.12281 18.5065 8.19677 18.6171 8.29001 18.7104L11.29 21.7104C11.3851 21.8014 11.4973 21.8728 11.62 21.9204C11.7397 21.9733 11.8691 22.0006 12 22.0006C12.1309 22.0006 12.2603 21.9733 12.38 21.9204C12.5028 21.8728 12.6149 21.8014 12.71 21.7104L15.71 18.7104C15.8983 18.5221 16.0041 18.2667 16.0041 18.0004C16.0041 17.7341 15.8983 17.4787 15.71 17.2904C15.5217 17.1021 15.2663 16.9963 15 16.9963C14.7337 16.9963 14.4783 17.1021 14.29 17.2904ZM18.42 6.22038C17.809 4.81639 16.7545 3.65146 15.4181 2.90411C14.0817 2.15676 12.5371 1.86822 11.021 2.08269C9.50489 2.29717 8.10094 3.00284 7.02427 4.09156C5.9476 5.18028 5.2576 6.592 5.06001 8.11038C4.1066 8.33871 3.27023 8.90922 2.70975 9.71357C2.14927 10.5179 1.9037 11.5001 2.01968 12.4736C2.13566 13.4471 2.60511 14.3441 3.33888 14.9942C4.07265 15.6444 5.01964 16.0024 6.00001 16.0004C6.26523 16.0004 6.51958 15.895 6.70712 15.7075C6.89466 15.52 7.00001 15.2656 7.00001 15.0004C7.00001 14.7352 6.89466 14.4808 6.70712 14.2933C6.51958 14.1057 6.26523 14.0004 6.00001 14.0004C5.46958 14.0004 4.96087 13.7897 4.5858 13.4146C4.21073 13.0395 4.00001 12.5308 4.00001 12.0004C4.00001 11.47 4.21073 10.9612 4.5858 10.5862C4.96087 10.2111 5.46958 10.0004 6.00001 10.0004C6.26523 10.0004 6.51958 9.89503 6.70712 9.70749C6.89466 9.51995 7.00001 9.2656 7.00001 9.00038C7.00257 7.81766 7.4243 6.67414 8.19028 5.77297C8.95627 4.8718 10.0169 4.27133 11.1838 4.07826C12.3506 3.88518 13.5481 4.11199 14.5636 4.71839C15.579 5.32479 16.3466 6.27152 16.73 7.39038C16.7872 7.56222 16.8899 7.71531 17.0273 7.83332C17.1647 7.95132 17.3315 8.0298 17.51 8.06038C18.1761 8.18625 18.7799 8.53399 19.223 9.04692C19.6662 9.55985 19.9226 10.2077 19.9504 10.885C19.9782 11.5623 19.7759 12.2291 19.3763 12.7766C18.9767 13.3242 18.4035 13.7203 17.75 13.9004C17.6226 13.9332 17.503 13.9908 17.3978 14.0699C17.2927 14.149 17.2042 14.248 17.1373 14.3613C17.0705 14.4746 17.0266 14.5999 17.0082 14.7302C16.9898 14.8604 16.9972 14.993 17.03 15.1204C17.0628 15.2478 17.1204 15.3674 17.1995 15.4726C17.2786 15.5777 17.3776 15.6662 17.4909 15.7331C17.6042 15.7999 17.7295 15.8438 17.8598 15.8622C17.99 15.8806 18.1226 15.8732 18.25 15.8404C19.3024 15.5623 20.2353 14.9484 20.907 14.0918C21.5787 13.2353 21.9526 12.183 21.9718 11.0947C21.9911 10.0063 21.6546 8.94143 21.0136 8.0617C20.3725 7.18198 19.4619 6.53548 18.42 6.22038Z" fill="#B8B5C6" />
                      </svg>
                      <span className="text-[#B8B5C6] px-2">Download</span>
                    </button>
                  )}
                </Menu.Item>
                <Menu.Item>
                  {({ active }) => (
                    <button
                      className={`${active ? 'bg-bu-purple text-white' : 'text-gray-900'
                        } group flex w-full items-center rounded-md px-2 py-2 text-sm`}
                    >
                      <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.16667 18C9.40978 18 9.64294 17.8946 9.81485 17.7071C9.98676 17.5196 10.0833 17.2652 10.0833 17V11C10.0833 10.7348 9.98676 10.4804 9.81485 10.2929C9.64294 10.1054 9.40978 10 9.16667 10C8.92355 10 8.69039 10.1054 8.51849 10.2929C8.34658 10.4804 8.25 10.7348 8.25 11V17C8.25 17.2652 8.34658 17.5196 8.51849 17.7071C8.69039 17.8946 8.92355 18 9.16667 18ZM18.3333 6H14.6667V5C14.6667 4.20435 14.3769 3.44129 13.8612 2.87868C13.3455 2.31607 12.646 2 11.9167 2H10.0833C9.35399 2 8.65451 2.31607 8.13879 2.87868C7.62306 3.44129 7.33333 4.20435 7.33333 5V6H3.66667C3.42355 6 3.19039 6.10536 3.01849 6.29289C2.84658 6.48043 2.75 6.73478 2.75 7C2.75 7.26522 2.84658 7.51957 3.01849 7.70711C3.19039 7.89464 3.42355 8 3.66667 8H4.58333V19C4.58333 19.7956 4.87306 20.5587 5.38879 21.1213C5.90451 21.6839 6.60399 22 7.33333 22H14.6667C15.396 22 16.0955 21.6839 16.6112 21.1213C17.1269 20.5587 17.4167 19.7956 17.4167 19V8H18.3333C18.5764 8 18.8096 7.89464 18.9815 7.70711C19.1534 7.51957 19.25 7.26522 19.25 7C19.25 6.73478 19.1534 6.48043 18.9815 6.29289C18.8096 6.10536 18.5764 6 18.3333 6ZM9.16667 5C9.16667 4.73478 9.26324 4.48043 9.43515 4.29289C9.60706 4.10536 9.84022 4 10.0833 4H11.9167C12.1598 4 12.3929 4.10536 12.5648 4.29289C12.7368 4.48043 12.8333 4.73478 12.8333 5V6H9.16667V5ZM15.5833 19C15.5833 19.2652 15.4868 19.5196 15.3148 19.7071C15.1429 19.8946 14.9098 20 14.6667 20H7.33333C7.09022 20 6.85706 19.8946 6.68515 19.7071C6.51324 19.5196 6.41667 19.2652 6.41667 19V8H15.5833V19ZM12.8333 18C13.0764 18 13.3096 17.8946 13.4815 17.7071C13.6534 17.5196 13.75 17.2652 13.75 17V11C13.75 10.7348 13.6534 10.4804 13.4815 10.2929C13.3096 10.1054 13.0764 10 12.8333 10C12.5902 10 12.3571 10.1054 12.1852 10.2929C12.0132 10.4804 11.9167 10.7348 11.9167 11V17C11.9167 17.2652 12.0132 17.5196 12.1852 17.7071C12.3571 17.8946 12.5902 18 12.8333 18Z" fill="#B8B5C6" />
                      </svg>
                      <span className="text-[#B8B5C6] px-2">Remove from Liked videos</span>
                    </button>
                  )}
                </Menu.Item>
              </div>
            </Menu.Items>
          </Transition>
        </Menu>
      </div>
    </div>
  );
}

export default WatchLaterContent;