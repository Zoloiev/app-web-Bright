import { useMenu } from '@/utils/context';
import { useMenuStore } from '@/utils/store';
import { ArrowRightIcon } from '@heroicons/react/24/solid';
import clsx from 'clsx';
import Link from 'next/link';
import React from 'react';
import NavItem from './NavItem';

export interface NavigationProps {
  fromDialog?: boolean;
}

const Navigation: React.FC<NavigationProps> = ({ fromDialog }) => {
  const { menuProps } = useMenuStore();
  const { variant } = useMenu();

  const shouldDisplayUpgradeButton =
    (menuProps.variant === 'open' && variant === 'open') ||
    menuProps.variant === 'open' ||
    variant === 'closed';
  const isOpenClosed = menuProps.variant === 'closed' && variant === 'open';
  return (
    <div
      className={clsx(
        'relative mt-6 flex flex-col px-0 ',
        fromDialog && 'pr-6',
      )}
    >
      <div
        className={clsx(
          'space-y-2 pr-0 mo:relative mo:flex mo:flex-col mo:items-start',
          !isOpenClosed && 'sm:p-0 sm:w-[240px]',
          isOpenClosed &&
            'relative flex flex-col items-center sm:!space-y-5 sm:pr-2',
        )}
      >
        <NavItem
          title="Home"
          fromDialog={fromDialog}
          path="/"
          icon={
            <svg
              width="24"
              height="24"
              className="mo:h-8 mo:w-8"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M22 10.7602V17.5968C22 19.4377 20.5076 20.9301 18.6667 20.9301H17.4444C16.8922 20.9301 16.4444 20.4824 16.4444 19.9301V19.7079C16.4444 19.1556 16.8922 18.7079 17.4444 18.7079H18.6667C19.2803 18.7079 19.7778 18.2104 19.7778 17.5968V10.7602C19.7778 10.4142 19.6165 10.0878 19.3416 9.87761L12.6749 4.77957C12.2765 4.47492 11.7235 4.47492 11.3251 4.77957L4.65839 9.87761C4.38348 10.0878 4.22222 10.4142 4.22222 10.7602V17.5968C4.22222 18.2104 4.71968 18.7079 5.33333 18.7079H6.55556C7.10784 18.7079 7.55556 19.1556 7.55556 19.7079V19.9301C7.55556 20.4824 7.10784 20.9301 6.55556 20.9301H5.33333C3.49239 20.9301 2 19.4377 2 17.5968V10.7602C2 9.722 2.48377 8.74305 3.3085 8.11237L9.97517 3.01433C11.1704 2.10036 12.8297 2.10037 14.0248 3.01433L20.6915 8.11237C21.5162 8.74305 22 9.722 22 10.7602ZM11.8891 11.1523H12.1113C13.7682 11.1523 15.1113 12.4955 15.1113 14.1523V17.7079C15.1113 19.3648 13.7682 20.7079 12.1113 20.7079H11.8891C10.2323 20.7079 8.88911 19.3648 8.88911 17.7079V14.1523C8.88911 12.4955 10.2323 11.1523 11.8891 11.1523ZM13.1113 14.1523C13.1113 13.6001 12.6636 13.1523 12.1113 13.1523H11.8891C11.3368 13.1523 10.8891 13.6001 10.8891 14.1523V17.7079C10.8891 18.2602 11.3368 18.7079 11.8891 18.7079H12.1113C12.6636 18.7079 13.1113 18.2602 13.1113 17.7079V14.1523Z"
                fill="CurrentColor"
              />
            </svg>
          }
        />
        <NavItem
          title="Shorts"
          fromDialog={fromDialog}
          path="/shorts"
          icon={
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              className="mo:h-8 mo:w-8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.76684 7.85033C4.07694 8.77702 3.49837 10.8294 4.47412 12.4344C5.20403 13.6362 6.59845 14.2464 7.96242 14.0882L6.23371 15.3375C4.54381 16.2642 3.96524 18.3165 4.94099 19.9216C5.91578 21.5266 8.07637 22.0765 9.76627 21.1498L17.788 16.7497C19.477 15.823 20.0556 13.7706 19.0808 12.1656C18.2961 10.8751 16.7465 10.2666 15.2909 10.5594L17.3212 9.26252C19.0101 8.33584 19.5887 6.28349 18.6139 4.67844C17.6381 3.07339 15.4785 2.52348 13.7886 3.45016L5.76684 7.85033Z"
                stroke="CurrentColor"
                strokeWidth="2"
                strokeLinejoin="round"
              />
              <path
                d="M13.9225 11.9764C14.0258 12.036 14.0258 12.1852 13.9225 12.2448L10.5357 14.2002C10.4324 14.2598 10.3032 14.1853 10.3032 14.0659L10.3032 10.1552C10.3032 10.0359 10.4324 9.96134 10.5357 10.021L13.9225 11.9764Z"
                fill="CurrentColor"
              />
            </svg>
          }
        />
        <NavItem
          title="Subscriptions"
          fromDialog={fromDialog}
          path="/subscriptions"
          // cs={clsx(isOpenClosed && "ml-[-0px]", "mo:ml-[-26px]")}
          icon={
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              className="mo:h-8 mo:w-8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M7 0C5.34315 0 4 1.34315 4 3V3.17071C2.83481 3.58254 2 4.69378 2 6V6.17071C0.834807 6.58254 0 7.69378 0 9V17C0 18.6569 1.34315 20 3 20H17C18.6569 20 20 18.6569 20 17V9C20 7.69378 19.1652 6.58254 18 6.17071V6C18 4.69378 17.1652 3.58254 16 3.17071V3C16 1.34315 14.6569 0 13 0H7ZM15.001 5C15.0007 5 15.0003 5 15 5L14 5H6L5 5C4.99967 5 4.99934 5 4.99901 5C4.44718 5.00053 4 5.44804 4 6H16C16 5.44804 15.5528 5.00053 15.001 5ZM6 3H14C14 2.44772 13.5523 2 13 2H7C6.44772 2 6 2.44772 6 3ZM17 8L17.0014 8C17.553 8.00075 18 8.44818 18 9V17C18 17.5523 17.5523 18 17 18H3C2.44772 18 2 17.5523 2 17V9C2 8.44804 2.44718 8.00053 2.99901 8H3L4 8H16L17 8Z"
                fill="CurrentColor"
              />
            </svg>
          }
        />
        <NavItem
          title="History"
          fromDialog={fromDialog}
          path="/history"
          // cs={clsx(isOpenClosed && "ml-[0px]", "mo:ml-[-3px]")}
          icon={
            <svg
              width="24"
              height="22"
              viewBox="0 0 24 22"
              className="mo:h-8 mo:w-8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.0999 0C10.6816 0.0117698 8.33556 0.825421 6.4293 2.31348C4.52304 3.80153 3.16426 5.87992 2.56586 8.223L1.83386 7.116C1.76456 7.0001 1.67251 6.89944 1.56325 6.82009C1.454 6.74073 1.3298 6.68433 1.19815 6.65428C1.0665 6.62422 0.930135 6.62114 0.797265 6.64522C0.664395 6.6693 0.537779 6.72004 0.425051 6.79438C0.312323 6.86872 0.215819 6.96512 0.141358 7.07777C0.0668978 7.19042 0.0160235 7.31699 -0.00819679 7.44983C-0.0324171 7.58267 -0.0294815 7.71905 0.000432834 7.85073C0.0303472 7.9824 0.0866206 8.10666 0.16586 8.216L2.36586 11.55C2.51868 11.7638 2.74399 11.9149 2.99986 11.975C3.26113 12.0268 3.53231 11.9748 3.75586 11.83L7.05586 9.607C7.16964 9.53595 7.26796 9.44273 7.34497 9.33289C7.42198 9.22306 7.47611 9.09885 7.50412 8.96767C7.53214 8.83648 7.53348 8.701 7.50806 8.56929C7.48264 8.43758 7.43097 8.31233 7.35615 8.20099C7.28132 8.08966 7.18486 7.99451 7.0725 7.92123C6.96015 7.84794 6.8342 7.79801 6.70215 7.77441C6.5701 7.7508 6.43465 7.75401 6.30386 7.78383C6.17307 7.81365 6.04962 7.86948 5.94086 7.948L4.43986 8.96C4.83934 7.33839 5.68659 5.86172 6.88494 4.69847C8.0833 3.53521 9.58449 2.73222 11.2173 2.38111C12.85 2.03 14.5486 2.14491 16.1192 2.71272C17.6898 3.28054 19.0692 4.27839 20.1 5.59244C21.1307 6.90649 21.7714 8.48382 21.9488 10.1445C22.1263 11.8051 21.8333 13.4822 21.1035 14.9843C20.3736 16.4865 19.2362 17.7533 17.8211 18.6401C16.4059 19.527 14.77 19.9982 13.0999 20C11.6682 19.9961 10.2586 19.6466 8.99101 18.9812C7.72338 18.3158 6.63516 17.3542 5.81886 16.178C5.74575 16.0657 5.65083 15.9693 5.53974 15.8944C5.42864 15.8196 5.30364 15.7678 5.17214 15.7422C5.04065 15.7166 4.90535 15.7176 4.77427 15.7453C4.64319 15.773 4.51901 15.8267 4.40911 15.9033C4.2992 15.9799 4.2058 16.0778 4.13447 16.1912C4.06313 16.3046 4.0153 16.4312 3.99382 16.5634C3.97235 16.6956 3.97766 16.8308 4.00945 16.961C4.04123 17.0911 4.09884 17.2136 4.17886 17.321C5.50593 19.2342 7.41169 20.6712 9.61607 21.4209C11.8204 22.1706 14.2072 22.1934 16.4255 21.4859C18.6438 20.7785 20.5767 19.3782 21.94 17.4907C23.3034 15.6033 24.0254 13.3282 23.9999 11C24.0097 8.09691 22.8677 5.30844 20.8243 3.24629C18.7808 1.18413 16.0029 0.0166663 13.0999 0Z"
                fill="CurrentColor"
              />
              <path
                d="M13 4.94995C12.7348 4.94995 12.4804 5.05531 12.2929 5.24284C12.1054 5.43038 12 5.68473 12 5.94995V11C12.0043 11.2643 12.109 11.5171 12.293 11.707L15.293 14.734C15.4813 14.9192 15.7344 15.0237 15.9986 15.025C16.2627 15.0263 16.5169 14.9244 16.707 14.741C16.8953 14.5542 17.0017 14.3004 17.0028 14.0352C17.0039 13.77 16.8997 13.5153 16.713 13.327L14 10.589V5.94995C14 5.68473 13.8946 5.43038 13.7071 5.24284C13.5196 5.05531 13.2652 4.94995 13 4.94995Z"
                fill="CurrentColor"
              />
            </svg>
          }
        />
        <NavItem
          title="Watch later"
          fromDialog={fromDialog}
          path="/watchlater"
          // cs={clsx(isOpenClosed && "ml-[0px]", "mo:ml-[-16px]")}
          icon={
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              className="mo:h-9 mo:w-9"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 2C9.02219 2 7.08879 2.58649 5.4443 3.6853C3.79981 4.78412 2.51809 6.3459 1.76121 8.17317C1.00433 10.0004 0.806299 12.0111 1.19215 13.9509C1.578 15.8907 2.53041 17.6725 3.92894 19.0711C5.32746 20.4696 7.10929 21.422 9.0491 21.8079C10.9889 22.1937 12.9996 21.9957 14.8268 21.2388C16.6541 20.4819 18.2159 19.2002 19.3147 17.5557C20.4135 15.9112 21 13.9778 21 12C21 10.6868 20.7413 9.38642 20.2388 8.17317C19.7363 6.95991 18.9997 5.85752 18.0711 4.92893C17.1425 4.00035 16.0401 3.26375 14.8268 2.7612C13.6136 2.25866 12.3132 2 11 2ZM11 20C9.41775 20 7.87104 19.5308 6.55544 18.6518C5.23985 17.7727 4.21447 16.5233 3.60897 15.0615C3.00347 13.5997 2.84504 11.9911 3.15372 10.4393C3.4624 8.88743 4.22433 7.46197 5.34315 6.34315C6.46197 5.22433 7.88743 4.4624 9.43928 4.15372C10.9911 3.84504 12.5997 4.00346 14.0615 4.60896C15.5233 5.21447 16.7727 6.23984 17.6518 7.55544C18.5308 8.87103 19 10.4177 19 12C19 14.1217 18.1572 16.1566 16.6569 17.6569C15.1566 19.1571 13.1217 20 11 20ZM14.1 12.63L12 11.42V7C12 6.73478 11.8946 6.48043 11.7071 6.29289C11.5196 6.10536 11.2652 6 11 6C10.7348 6 10.4804 6.10536 10.2929 6.29289C10.1054 6.48043 10 6.73478 10 7V12C10 12 10 12.08 10 12.12C10.0059 12.1889 10.0228 12.2564 10.05 12.32C10.0706 12.3793 10.0974 12.4363 10.13 12.49C10.1574 12.5468 10.1909 12.6005 10.23 12.65L10.39 12.78L10.48 12.87L13.08 14.37C13.2324 14.4564 13.4048 14.5012 13.58 14.5C13.8014 14.5015 14.0171 14.4296 14.1932 14.2953C14.3693 14.1611 14.4959 13.9722 14.5531 13.7583C14.6103 13.5444 14.5948 13.3176 14.5092 13.1134C14.4236 12.9092 14.2726 12.7392 14.08 12.63H14.1Z"
                fill="CurrentColor"
              />
            </svg>
          }
        />
        <NavItem
          title="Liked videos"
          fromDialog={fromDialog}
          path="/likedvideo"
          // cs={clsx(isOpenClosed && "0", "mo:ml-[-20px]")}
          icon={
            <svg
              width="24"
              height="24"
              className="mo:h-9 mo:w-9"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18.8817 18H16.9999C16.4476 18 15.9999 17.5523 15.9999 17C15.9999 16.4477 16.4476 16 16.9999 16H19.4999C19.5589 16 19.6167 16.0051 19.6729 16.0149C19.8009 15.616 19.9199 15.1969 20.0297 14.7575C20.0947 14.4976 20.1528 14.2451 20.2042 14H17.9999C17.4476 14 16.9999 13.5523 16.9999 13C16.9999 12.4477 17.4476 12 17.9999 12H20.4853C20.5073 11.6103 20.5044 11.2492 20.4766 10.9169C20.4334 10.3986 20.0002 10 19.4801 10H9.99985C8.89528 10 7.99985 9.10457 7.99985 8V4.75C7.99985 4.33579 7.66406 4 7.24985 4C6.7458 4 6.31894 4.37168 6.2496 4.87093L4.46433 17.7249C4.45167 17.816 4.44531 17.908 4.44531 18C4.44531 19.1046 5.34074 20 6.44531 20H16.5847C17.2571 20 17.8844 19.6621 18.2545 19.1007C18.4765 18.764 18.6856 18.3971 18.8817 18ZM22.4697 10.7506C22.5747 12.0087 22.4049 13.5029 21.97 15.2425C21.4736 17.2281 20.7945 18.8815 19.9243 20.2015C19.1842 21.3243 17.9294 22 16.5847 22H6.44531C4.23617 22 2.44531 20.2091 2.44531 18C2.44531 17.8159 2.45802 17.6321 2.48334 17.4497L4.26861 4.59579C4.47528 3.10777 5.74755 2 7.24985 2C8.76863 2 9.99985 3.23122 9.99985 4.75V8H19.4801C21.0403 8.00003 22.34 9.19587 22.4697 10.7506Z"
                fill="CurrentColor"
              />
            </svg>
          }
        />
      </div>
      {shouldDisplayUpgradeButton && (
        <Link href="/upgrade">
          <div className=" ml-6 mt-4 hidden h-[226px] max-w-[200px] items-end  bg-drawerPremuim bg-no-repeat object-cover  sm:flex ">
            <span className="relative flex w-full items-center justify-between p-6 text-white">
              <span className="font-medium">
                Upgrade to <br /> premuim
              </span>
              <ArrowRightIcon className="h-6 w-6" />
            </span>
          </div>
        </Link>
      )}
    </div>
  );
};

export default Navigation;
